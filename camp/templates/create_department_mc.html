{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/form.css'%}">

<form method="POST" action="{% url 'create_department_mc' id_camp %}" enctype="multipart/form-data" class="phase1">
    {% csrf_token %}
    <div class="modal fade" id="create_dep_mc" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitl"
        aria-hidden="true">
        <div class="modal-dialog modal-reg modal-dialog-centered" role="document">
            <div class="modal-content modal-content-login-back">
                <div class="modal-body text-center p-5 modal-content-login">
                    <p style="font-weight: bold;font-size: larger; color:var(--bg-purple);">กรอกรายละเอียดฝ่ายหรือ MC
                    </p>
                    <div class="row justify-content-md-center" name="">
                        <div class="col-sm-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="choose"
                                    value="department" id="department">
                                <label class="form-check-label" for="gridRadios1">
                                    ฝ่าย
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="choose" 
                                    value="MC" id="MC">
                                <label class="form-check-label" for="gridRadios2">
                                    MC
                                </label>
                            </div>
                        </div>
                    </div>


                    <table class="Aligner" style="display: none;" id="form_department">
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    ชื่อฝ่าย :
                                </div>
                            </th>
                            <th>
                                <div class="col-form Aligner ml-1">
                                    <input type="text" class="form-control input-box-reg" required
                                        name="name_department" id="name_department">
                                </div>
                            </th>
                        </tr>
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    ประเภทของฝ่าย :
                                </div>
                            </th>
                            <th>
                                <div class="col-form ml-1">
                                    <input type="text" class="form-control input-box-reg" required
                                        name="typeOfDepartment" id="typeOfDepartment">
                                </div>
                            </th>
                        </tr>
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    รายละเอียดของฝ่าย :
                                </div>
                            </th>
                            <th>
                                <div class="col-form ml-1">
                                    <input type="text" class="form-control input-box-reg" required
                                        name="desc_department" id="desc_department">
                                </div>
                            </th>
                        </tr>
                    </table>

                    <table class="Aligner" style="display: none;" id="form_MC">
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    ชื่อ MC :
                                </div>
                            </th>
                            <th>
                                <div class="col-form ml-1">
                                    <input type="text" class="form-control input-box-reg" required name="name_MC"
                                        id="name_MC">
                                </div>
                            </th>
                        </tr>
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    ประเภทของ MC :
                                </div>
                            </th>
                            <th>
                                <div class="col-form ml-1">
                                    <input type="text" class="form-control input-box-reg" required name="typeOfMC"
                                        id="typeOfMC">
                                </div>
                            </th>
                        </tr>
                        <tr height="50">
                            <th class="">
                                <div class="col-md-auto text-left">
                                    รายละเอียดของ MC :
                                </div>
                            </th>
                            <th>
                                <div class="col-form ml-1">
                                    <input type="text" class="form-control input-box-reg" required name="desc_MC"
                                        id="desc_MC">
                                </div>
                            </th>
                        </tr>
                    </table>
                    <button class="btn btn-next btn-reg mt-5" type="submit" id="btn_submit">สร้างฝ่าย</button>
                </div>
            </div>
        </div>
    </div>
</form>
<script>
    document.getElementById("department").addEventListener("change", function () {
        document.getElementById("form_MC").style.display = "none";
        document.getElementById("form_department").style.display = "grid";
        document.getElementById("btn_submit").innerHTML = "สร้างฝ่าย";

        var form = document.getElementById("form_department").getElementsByTagName('input')
        for (let index = 0; index < form.length; index++) {
            const element = form[index];
            element.required = true
        }
        
        var form = document.getElementById("form_MC").getElementsByTagName('input')
        for (let index = 0; index < form.length; index++) {
            const element = form[index];
            element.required = false
        }
    });
    document.getElementById("MC").addEventListener("change", function () {
        document.getElementById("form_department").style.display = "none";
        document.getElementById("form_MC").style.display = "grid";
        document.getElementById("btn_submit").innerHTML = "สร้าง MC";

        var form = document.getElementById("form_MC").getElementsByTagName('input')
        for (let index = 0; index < form.length; index++) {
            const element = form[index];
            element.required = true
        }

        var form = document.getElementById("form_department").getElementsByTagName('input')
        for (let index = 0; index < form.length; index++) {
            const element = form[index];
            element.required = false
        }
    });
</script>